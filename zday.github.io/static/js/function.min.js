var zdayJS={emailValidationPattern:new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i),styledInputs:{container:".checkbox",initStatusClass:"init",init:function(){var a=this;$(a.container).each(function(){if(!$(this).hasClass(a.initStatusClass)){var b=$(this).children("input");var c=$(this).find("label");b.css({position:"absolute",visibility:"hidden"});if(!c.attr("for")||c.attr("for")!=b.attr("id")){c.on("click",function(){b.click()})}$(this).addClass(a.initStatusClass)}})}},countdown:{container:".countdown",init:function(){var b=this;if(!$(b.container).length){return false}var c=$("body").data("time");if(c){var a=new Date(Date.parse(c))}else{var a=new Date();a=new Date(a.getFullYear()+1,1-1,1)}$(b.container).countdown({until:a,padZeroes:true})}},customScrollbar:{container:".wrapper",scrollBlock:".scroll-block",content:".scroll-content",init:function(){var a=this;if(!$(a.container).length){return false}$(a.container).each(function(){var b=$(this);a.sizes(b);b.find(a.scrollBlock).mCustomScrollbar({theme:"dark",axis:"y",scrollInertia:300,updateOnContentResize:true});$(window).on("resize",function(){a.sizes(b)})})},sizes:function(a){var d=this;if(window.innerWidth>=768){var c=a.height();var b=a.find(d.content).height();if(b>c){a.find(d.scrollBlock).css("height",c)}else{a.find(d.scrollBlock).css("height",b)}}else{a.find(d.scrollBlock).removeAttr("style")}}},navigation:{nextStepBtn:".next-step",prevStepBtn:".close",startBtn:".logo",step:0,stepsCount:3,animate:false,duration:700,init:function(){var a=this;$("#launch .socials, #launch .wrapper, #about, #feedback").attr("style","-webkit-transition-duration: "+a.duration+"ms; -moz-transition-duration: "+a.duration+"ms; -ms-transition-duration: "+a.duration+"ms; -o-transition-duration: "+a.duration+"ms; transition-duration: "+a.duration+"ms;");$(a.nextStepBtn).on("click",function(c){c.preventDefault();a.nextStep()});$(a.prevStepBtn).on("click",function(c){c.preventDefault();a.prevStep()});$(a.startBtn).on("click",function(c){c.preventDefault();a.step=0;$("body").removeClass("show-about show-feedback")});$("body").on("mousewheel",function(c){if(window.innerWidth>=768){c.preventDefault();if(c.deltaY<0){a.nextStep()}if(c.deltaY>0){a.prevStep()}}});$("body").on("keydown",function(c){if(window.innerWidth>=768){if(c.keyCode==38){c.preventDefault();a.prevStep()}if(c.keyCode==40){c.preventDefault();a.nextStep()}}});var b=(window.innerWidth>=768);$(window).on("resize",function(){if(window.innerWidth>=768&&!b){$(window).scrollTop(0);a.step=0}b=(window.innerWidth>=768)})},prevStep:function(){var a=this;if(a.step==0){return false}if(!a.animate){a.step--;if(a.step==0){$("body").removeClass("show-about")}if(a.step==1){$("body").removeClass("show-feedback");setTimeout(function(){if(zdayJS.feedbackForm.send){zdayJS.feedbackForm.clear()}},a.duration)}a.animate=true;setTimeout(function(){a.animate=false},a.duration)}},nextStep:function(){var a=this;if(a.step==a.stepsCount-1){return false}if(!a.animate){a.step++;if(a.step==1){$("body").addClass("show-about")}if(a.step==2){$("body").addClass("show-feedback")}a.animate=true;setTimeout(function(){a.animate=false},a.duration)}}},settingsPanel:{container:"#settings",select:".select",customScroll:".settings-scroll",toggleBtn:".toggle",settings:{},initialised:false,init:function(){var b=this;b.defaultImageUrl=$("body").data("image-url");b.getInlineSettings();if($(b.container).length){b.getData();b.containerHeight=$(b.container).outerHeight();b.contentHeight=$(b.container).find(".content").outerHeight();b.setPanelStyle();$(window).on("resize",function(){if(!b.contentHeight){b.contentHeight=$(b.container).find(".content").outerHeight()}b.containerHeight=$(b.container).outerHeight();b.setPanelStyle()});b.scrollInit();var a=false;$(b.container).find(b.toggleBtn).on("click",function(c){c.preventDefault();$(b.container).toggleClass("active")});$(b.container).on("click",function(){a=true});$("body").on("click",function(){if(!a){$(b.container).removeClass("active")}a=false});$(b.container).find("input").each(function(){if($(this).attr("type")=="checkbox"){b.inputCheckboxChange($(this))}else{if($(this).attr("type")=="text"){b.inputTextChange($(this))}}});$(b.container).find(b.select).each(function(){var c=$(this).find("input");var d=$(this).find("ul");d.customSelect({input:c,onChange:function(e){b.selectChange(e.value);if(b.initialised){b.setData()}return true},maxHeight:300})});$(b.container).find(".applyBtn").on("click",function(){var c=$(this).closest(".form-element").find("input");b.inputTextChange(c,$(this));b.setData()});$(b.container).find('input[type="checkbox"]').on("change",function(){b.inputCheckboxChange($(this));b.setData()});b.initialised=true}else{if(b.defaultImageUrl){b.setDefaultImage()}}},getInlineSettings:function(){var d=this;var e=$("body").attr("class");if(e&&e.length){var a=e.split(" ");for(var c=0;c<a.length;c++){if(a[c].search("hidden-block")!=-1){var b=a[c].replace("hidden-block-","");if($(d.container).length){if(b=="data-1"){$(d.container).find('[data-parameter="'+b+'"]').attr("checked",true)}else{$(d.container).find('[data-parameter="'+b+'"]').attr("checked",false)}}else{console.log(b);if(b!="data-1"){$("."+b).hide()}}}else{if(a[c]=="black-header"){$(d.container).find('[data-parameter="data-0"]').val("black")}else{if(a[c]=="disable-feedback"){$(d.container).find('[data-parameter="data-8"]').attr("checked",false)}}}}}},setPanelStyle:function(){var a=this;if(window.innerWidth>=768){if(a.contentHeight>a.containerHeight){$(a.container).find(".content").css({height:a.containerHeight,"margin-top":-a.containerHeight/2})}else{$(a.container).find(".content").css({height:a.contentHeight,"margin-top":-a.contentHeight/2})}}else{$(a.container).find(".content").removeAttr("style")}},scrollInit:function(){var a=this;$(a.container).find(a.customScroll).mCustomScrollbar({theme:"lite",axis:"y",scrollInertia:300,updateOnContentResize:true,keyboard:{enable:true}})},setData:function(){var a=this;$(a.container).find("input").each(function(){var c=$(this).data("parameter");if($(this).is('input[type="checkbox"]')){if($(this).is(":checked")){a.settings[c]=true}else{a.settings[c]=false}}else{var b=$(this).val();a.settings[c]=b}});$.cookie("ZDay-Theme",JSON.stringify(a.settings))},getData:function(){var b=this;if($.cookie("ZDay-Theme")){var a=$.parseJSON($.cookie("ZDay-Theme"));$(b.container).find("input").each(function(){var c=$(this).data("parameter");if($(this).is('input[type="checkbox"]')){$(this).attr("checked",a[c])}else{$(this).val(a[c])}});b.settings=a}},selectChange:function(b){var a=this;if(b=="black"){$("body").addClass("black-header")}else{$("body").removeClass("black-header")}},setDefaultImage:function(){var b=this;var a=new Image();a.src=b.defaultImageUrl;a.onload=function(){$("#launch .bg .img").css("background-image","url("+b.defaultImageUrl+")")}},inputTextChange:function(b,e){var f=this;var d=b.val();var c=b.attr("name");if(c=="bg-image"){if(d&&d.length){if(e){e.addClass("load")}var a=new Image();a.src=d;a.onload=function(){$("#launch .bg .img").css("background-image","url("+d+")");if(e){e.removeClass("load")}}}else{if(f.defaultImageUrl){f.setDefaultImage()}else{$("#launch .bg .img").removeAttr("style")}}}if(c=="bg-video"){if(d&&d.length){if(e){e.addClass("load")}zdayJS.video.setVideo(d)}else{if(zdayJS.video.defaultUrl){zdayJS.video.setVideo(zdayJS.video.defaultUrl)}else{zdayJS.video.destroy()}}}},inputCheckboxChange:function(a){var c=this;var b=a.attr("name");var d=a.data("parameter");switch(b){case"bg-video-mute":if(a.is(":checked")){zdayJS.video.muteVideo()}else{zdayJS.video.unmuteVideo()}break;case"hidden-block":if(a.is(":checked")){$("body").addClass(b+"-"+d)}else{$("body").removeClass(b+"-"+d)}if(c.initialised){$(window).trigger("resize")}break;case"visible-block":if(a.is(":checked")){$("."+d).fadeIn(300);if(c.initialised){$(window).trigger("resize")}}else{$("."+d).fadeOut(300,function(){if(c.initialised){$(window).trigger("resize")}})}break;case"enable-feedback":var e=zdayJS.navigation;if(a.is(":checked")){$("body").removeClass("disable-feedback");e.stepsCount=3}else{e.stepsCount=2;if(e.step==2){e.prevStep()}setTimeout(function(){$("body").addClass("disable-feedback")},e.duration)}break}}},video:{container:"#launch .bg .video",enable:true,mute:false,init:function(){var a=this;if($("body").data("video-url")){a.defaultUrl=a.url=$("body").data("video-url")}if(typeof $("body").data("mute")!="undefined"){a.mute=$("body").data("mute");if($(zdayJS.settingsPanel.container).length){$(zdayJS.settingsPanel.container).find('[data-parameter="data-4"]').attr("checked",a.mute)}}a.getVideoThumbnail();a.checkSmallScreen();$(window).on("resize",function(){a.checkSmallScreen()})},checkSmallScreen:function(){var a=this;if(window.innerWidth<768){a.enable=false;$("body").addClass("image-bg no-bg-video").removeClass("video-bg");if(a.player){a.player.stopVideo()}}else{a.enable=true;$("body").removeClass("image-bg no-bg-video");if(a.player){a.player.playVideo()}else{a.setVideo(zdayJS.settingsPanel.settings["data-3"])}}},getVideoThumbnail:function(){var a=this;if(a.url){a.videoId=a.parser();if(a.videoId){a.videoScreenUrl="http://img.youtube.com/vi/"+a.videoId+"/maxresdefault.jpg";$("body").data("imageUrl",a.videoScreenUrl)}}},setVideo:function(a){var b=this;if(!b.enable){return false}if(a){b.url=a}if(b.url){if($(zdayJS.settingsPanel.container).length){b.mute=$(zdayJS.settingsPanel.container).find('[data-parameter="data-4"]').is(":checked")}b.createVideo()}else{$("body").addClass("image-bg").removeClass("video-bg")}},createVideo:function(){var d=this;if(!d.player){d.videoWrapper=$('<div class="videoWrapper" />');var b=$('<div id="video" />');d.videoWrapper.html(b);$(d.container).html(d.videoWrapper);$(window).on("resize",function(){d.calculateSizes()})}d.videoId=d.parser();if(d.videoId){window.getVideoInfo=function(e){d.videoInfo=e;d.setSizes();d.renderVideo()};var c="http://gdata.youtube.com/feeds/api/videos/"+d.videoId+"?v=2&alt=jsonc&callback=getVideoInfo";$("#videoInfo").remove();var a=$('<script src="'+c+'" id="videoInfo"><\/script>');$("body").append(a)}},setSizes:function(){var b=this;var a=b.videoInfo.data.aspectRatio;if(a=="widescreen"){b.aspectRatio=16/9}else{b.aspectRatio=4/3}b.calculateSizes()},calculateSizes:function(){var c=this;var e=$(c.container).width();var d=$(c.container).height();var b=e/d;var a={position:"absolute",left:"50%",top:"50%"};if(b>c.aspectRatio){a.width=e+20;a.height=Math.ceil(a.width/c.aspectRatio)}else{a.height=d+20;a.width=Math.ceil(a.height*c.aspectRatio)}a.marginTop=-a.height/2;a.marginLeft=-a.width/2;c.videoWrapper.css(a)},renderVideo:function(){var b=this;if(!b.player){var a=$('<script id="yt-iframe" src="https://www.youtube.com/iframe_api"><\/script>');$("body").append(a);window.onYouTubeIframeAPIReady=function(){b.player=new YT.Player("video",{width:"100%",height:"100%",videoId:b.videoId,playerVars:{modestbranding:1,controls:0,showinfo:0,rel:0,wmode:"transparent",iv_load_policy:3},events:{onReady:function(){if(b.mute){b.player.mute()}b.player.playVideo()},onStateChange:function(c){if(c.data===1){$("body").addClass("video-bg");$(zdayJS.settingsPanel.container).find(".applyBtn.load").removeClass("load")}if(c.data===0){b.player.playVideo()}}}})}}else{b.player.loadVideoById(b.videoId)}},muteVideo:function(){var a=this;if(a.player&&!a.player.isMuted()){a.player.mute()}},unmuteVideo:function(){var a=this;if(a.player&&a.player.isMuted()){a.player.unMute()}},parser:function(){var c=this;var b=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/;var a=c.url.match(b);if(a&&a[7].length==11){return a[7]}else{return false}},destroy:function(){var a=this;if(a.player){if(a.defaultUrl){a.init()}else{a.player.destroy();$("body").removeClass("video-bg").addClass("image-bg")}}}},feedbackForm:{container:"#feedback",contentBlock:".scroll-block",successBlock:".success-block",errorBlock:".error-block",send:false,init:function(){var a=this;$(a.container).find("form").on("submit",function(c){c.preventDefault();if(!a.isValidForm()){return false}$(a.container).find(a.contentBlock).fadeTo(300,0);var b=$(this).serialize();$.ajax({url:"send-form-email.php",type:"post",dataType:"json",data:b,success:function(){setTimeout(function(){$(a.container).find(a.successBlock).fadeIn(300);a.formSend()},300)},error:function(){setTimeout(function(){$(a.container).find(a.errorBlock).fadeIn(300);a.formSend()},300)}});return false})},formSend:function(){var a=this;a.send=true;if(window.innerWidth<768){$("body, html").animate({scrollTop:$(a.container).offset().top},500)}setTimeout(function(){a.clear()},10000)},clear:function(){var a=this;$(a.container).find("form")[0].reset();$(a.container).find(a.successBlock).hide();$(a.container).find(a.errorBlock).hide();$(a.container).find(a.contentBlock).fadeTo(0,1)},isValidEmail:function(){var b=this;var a=$(b.container).find('[name="email"]');a.removeClass("error");if(zdayJS.emailValidationPattern.test(a.val())){return true}else{a.addClass("error");return false}},isValidName:function(){var b=this;var a=$(b.container).find('[name="name"]');a.removeClass("error");if(a.val().length>0){return true}else{a.addClass("error");return false}},isValidComment:function(){var b=this;var a=$(b.container).find('[name="message"]');a.removeClass("error");if(a.val().length>0){return true}else{a.addClass("error");return false}},isValidForm:function(){var b=this;var a=true;if(!b.isValidName()){a=false}if(!b.isValidEmail()){a=false}if(!b.isValidComment()){a=false}return a}},subscribeForm:{container:".subscribe",successBlock:".success-block",errorBlock:".error-block",init:function(){var a=this;$(a.container).find("form").on("submit",function(b){b.preventDefault();$(a.container).find(a.successBlock).hide();$(a.container).find(a.errorBlock).hide();if(!a.isValidEmail()){$(a.container).find(a.errorBlock).fadeIn(300);return false}else{$(a.container).find(a.successBlock).fadeIn(300)}})},isValidEmail:function(){var b=this;var a=$(b.container).find('[name="email"]');a.removeClass("error");if(zdayJS.emailValidationPattern.test(a.val())){return true}else{a.addClass("error");return false}}}};$(function(){with(zdayJS){video.init();settingsPanel.init();styledInputs.init();countdown.init();customScrollbar.init();navigation.init();feedbackForm.init();subscribeForm.init()}});$(window).on("load",function(){setTimeout(function(){$("#load").fadeOut(300);$(zdayJS.settingsPanel.container).addClass("active")},1000)});